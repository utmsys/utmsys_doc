<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Gazebo Harmonic 和 ROS2 Jazzy 注意事项 | UTMSYS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.utmsys.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wiki.utmsys.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wiki.utmsys.org/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Gazebo Harmonic 和 ROS2 Jazzy 注意事项 | UTMSYS"><meta data-rh="true" name="description" content="激光显示"><meta data-rh="true" property="og:description" content="激光显示"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://wiki.utmsys.org/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/en/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项" hreflang="zh"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"9. 算法开发","item":"https://wiki.utmsys.org/09_Algorithm_Development"},{"@type":"ListItem","position":2,"name":"9.5 仿真模拟器","item":"https://wiki.utmsys.org/05_SIMULATOR"},{"@type":"ListItem","position":3,"name":"Gazebo Harmonic 和 ROS2 Jazzy 注意事项","item":"https://wiki.utmsys.org/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项"}]}</script><link rel="stylesheet" href="/assets/css/styles.fdfcd1c3.css">
<script src="/assets/js/runtime~main.7a42177b.js" defer="defer"></script>
<script src="/assets/js/main.a51edf4e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">UTMSYS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/UTMSYS介绍">Start</a><a href="https://www.utmsys.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/utmsys/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/en/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/UTMSYS介绍">UTMSYS ORG</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/01_Product_Overview">1. 产品概述</a><button aria-label="展开侧边栏分类 &#x27;1. 产品概述&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/02_Hardware_Connection">2. 硬件连接</a><button aria-label="展开侧边栏分类 &#x27;2. 硬件连接&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/03_Image_Flash">3. 镜像烧录</a><button aria-label="展开侧边栏分类 &#x27;3. 镜像烧录&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/04_Terminal_Access">4. 终端访问</a><button aria-label="展开侧边栏分类 &#x27;4. 终端访问&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/05_System_Config">5. 系统配置</a><button aria-label="展开侧边栏分类 &#x27;5. 系统配置&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/06_Software_Install">6. 软件安装</a><button aria-label="展开侧边栏分类 &#x27;6. 软件安装&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/07_Data_Communication">7. 数据通信</a><button aria-label="展开侧边栏分类 &#x27;7. 数据通信&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/08_Application_Development">8. 应用开发</a><button aria-label="展开侧边栏分类 &#x27;8. 应用开发&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/09_Algorithm_Development">9. 算法开发</a><button aria-label="折叠侧边栏分类 &#x27;9. 算法开发&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/01_CV">9.1 计算机视觉</a><button aria-label="展开侧边栏分类 &#x27;9.1 计算机视觉&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/02_MISSION">9.2 飞行任务</a><button aria-label="展开侧边栏分类 &#x27;9.2 飞行任务&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/03_PLANNER">9.3 路径规划</a><button aria-label="展开侧边栏分类 &#x27;9.3 路径规划&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/04_SLAM">9.4 定位建图</a><button aria-label="展开侧边栏分类 &#x27;9.4 定位建图&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/05_SIMULATOR">9.5 仿真模拟器</a><button aria-label="折叠侧边栏分类 &#x27;9.5 仿真模拟器&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/HITL/PX4+Gazebo硬件在环HIL仿真配置">HITL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/AirSim/">SITL</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/AirSim/">AirSim</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Classic 与 Gazebo Harmonic 功能对比文档">Gazebo</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Classic 与 Gazebo Harmonic 功能对比文档">Docs</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Classic 与 Gazebo Harmonic 功能对比文档">功能比较 — Gazebo Harmonic 文档</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Classic 迁移">Gazebo Classic 迁移</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Harmonic 和 ROS2 Jazzy 注意事项">Gazebo Harmonic 和 ROS2 Jazzy 注意事项</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Sim 架构 — Gazebo Harmonic 文档">Gazebo Sim 架构 — Gazebo Harmonic 文档</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/使用 Gazebo 的项目">使用 Gazebo 的项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/关于Gazebo">About -- Gazebo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/迁移使用 Gazebo Classic 的 ROS 2 软件包 — Gazebo Harmonic 文档">迁移使用 Gazebo Classic 的 ROS 2 软件包 — Gazebo Harmonic 文档</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Model/P450">Model</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/PX4 SITL软件在环仿真">使用Gazebo仿真器</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Prometheus/PrometheusV3配置">Prometheus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Sensor/D435i/Gazebo使用Realsense D435i SLAM&amp;PX4仿真">Sensor</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/World/">World</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/IsaacSim/Pegasus 模拟器 — Pegasus 模拟器 文档">IsaacSim</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/Mujoco/Mujoco 无人机">Mujoco</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Algorithm_Development/SIMULATOR/SITL/PX4/EKF2_AID_MASK-EKF2_HGT_MODE视觉里程计调整">PX4</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/06_RL">9.6 强化学习</a><button aria-label="展开侧边栏分类 &#x27;9.6 强化学习&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/07_VLM">9.7 视觉语言模型</a><button aria-label="展开侧边栏分类 &#x27;9.7 视觉语言模型&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/08_HPC">9.8 高性能计算</a><button aria-label="展开侧边栏分类 &#x27;9.8 高性能计算&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/10_Debug_Commands">10. 调试命令</a><button aria-label="展开侧边栏分类 &#x27;10. 调试命令&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/11_Concepts">11. 相关概念</a><button aria-label="展开侧边栏分类 &#x27;11. 相关概念&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/12_FAQ">12. 常见问题</a><button aria-label="展开侧边栏分类 &#x27;12. 常见问题&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/13_Release">13. 发布日志</a><button aria-label="展开侧边栏分类 &#x27;13. 发布日志&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/09_Algorithm_Development"><span>9. 算法开发</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/05_SIMULATOR"><span>9.5 仿真模拟器</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SITL</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Gazebo</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Docs</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Gazebo Harmonic 和 ROS2 Jazzy 注意事项</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Gazebo Harmonic 和 ROS2 Jazzy 注意事项</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="激光显示">激光显示<a href="#激光显示" class="hash-link" aria-label="激光显示的直接链接" title="激光显示的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002105_66db2bf14cdbc19707.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_学习" class="img_ev3q"></p>
<p>点呈现</p>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002108_66db2bf47481668024.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_Classic_02" class="img_ev3q"></p>
<p>射线呈现</p>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002111_66db2bf747c6057601.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_新版本_03" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002113_66db2bf909f9237599.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_持续学习_04" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rviz2">rviz2<a href="#rviz2" class="hash-link" aria-label="rviz2的直接链接" title="rviz2的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002114_66db2bfa1d85743451.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_Classic_05" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002114_66db2bfaaed0360296.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_持续学习_06" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="新旧版本并存的混乱">新旧版本并存的混乱<a href="#新旧版本并存的混乱" class="hash-link" aria-label="新旧版本并存的混乱的直接链接" title="新旧版本并存的混乱的直接链接">​</a></h2>
<p>本教程旨在为在Ubuntu Jammy（最新支持Gazebo Classic包的Ubuntu版本）上运行Gazebo Classic（如Gazebo 11）的用户提供指导，这些用户计划将其代码迁移到新的Gazebo版本（如Fortress, Garden, 或Harmonic）。教程的目的是展示如何在同一台机器上同时安装Gazebo 11和新版本的Gazebo，以便用户可以并行运行旧项目并探索新版本的特性。</p>
<p>然而，需要注意的是，由于软件版本的快速迭代，本教程中详细介绍的Gazebo Classic版本（如Gazebo 11）可能不会在未来得到更新或支持。因此，推荐用户考虑将代码迁移  到新的Gazebo版本作为长期解决方案。</p>
<p><strong>关键步骤和注意事项包括</strong> ：</p>
<ol>
<li><strong>确认Ubuntu版本</strong> ：确保你的Ubuntu系统是Jammy（22.04）或兼容版本。</li>
<li><strong>安装Gazebo 11</strong> ：由于Gazebo 11可能不在Ubuntu Jammy的默认仓库中，你可能需要从旧版本的Ubuntu仓库、Gazebo的PPA或其他源安装。这通常涉及添加额外的软件源和依赖项。</li>
<li><strong>安装新版本的Gazebo</strong> ：通过ROS（如果你使用的是ROS）或直接从Ubuntu的apt仓库（如果可用）安装新版本的Gazebo。确保选择与你的ROS版本兼容的Gazebo版本。</li>
<li><strong>管理版本冲突</strong> ：同时安装两个版本的Gazebo可能会导致版本冲突，特别是当它们共享相同的依赖项时。你可能需要解决这些冲突，或者确保每个版本的Gazebo都使用其自己的依赖项集。</li>
<li><strong>设置环境变量</strong> ：为了能够在需要时轻松切换到不同版本的Gazebo，你可能需要设置环境变量来指定默认使用的Gazebo版本。</li>
<li><strong>查阅文档和社区支持</strong> ：由于Gazebo和ROS都是不断发展的项目，因此强烈建议查阅最新的官方文档和社区支持资源以获取帮助和更新信息。</li>
</ol>
<p>最后，虽然本教程提供了同时安装Gazebo 11和新版本Gazebo的指导，但用户应该意识到迁移到新版本的Gazebo是长期维护和支持的更好选择。</p>
<p><img decoding="async" loading="lazy" src="https://s2.51cto.com/images/blog/202409/07002115_66db2bfb2b31342886.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=/format,webp/resize,m_fixed,w_1184" alt="Gazebo Harmonic gz-harmonic 和 ROS2 Jazzy 注意事项_笔记_07" class="img_ev3q"></p>
<hr>
<p>如上可以看到各类Gazebo版本的不完全兼容与接口变化，详细可参考：</p>
<p>Gazebo与ROS1、ROS2接口变迁-2005-2024</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="简洁的流程">简洁的流程<a href="#简洁的流程" class="hash-link" aria-label="简洁的流程的直接链接" title="简洁的流程的直接链接">​</a></h2>
<p>在将使用Gazebo Classic的ROS 2项目迁移到使用新Gazebo（如Harmonic）时，有几个关键的概念性差异需要注意。这些差异主要体现在ROS 2项目与Gazebo交互的方式上。以前，Gazebo Classic通过 <code>gazebo_ros_pkgs</code> 提供了一套插件，这些插件直接在Gazebo Classic中加载并作为仿真的一部分运行，以提供ROS和Gazebo Classic之间的接口。然而，在新的Gazebo版本中，这一机制已被 <code>ros_gz</code> 取代，后者主要用作ROS和 <code>gz-transport</code> 主题之间的桥梁。</p>
<p>本教程旨在指导用户将使用 <code>gazebo_ros_pkgs</code> 的ROS 2包迁移到使用 <code>ros_gz</code> 。我们以 <code>turtlebot3_simulations</code> 包为例，展示迁移过程的步骤。在这个过程中，我们需要注意一些关键变化，并可能需要对项目的配置、启动文件等进行相应的调整。</p>
<p>在开始迁移之前，建议用户按照PC设置指南安装必要的先决条件，以便能够模拟Turtlebot3。这一步骤会安装一些额外的包，如Nav2和Cartographer，这些包在后续教程中可能会用到，因此不应跳过。</p>
<p>完成安装后，用户可以开始修改项目文件，将原来的 <code>gazebo_ros_pkgs</code> 引用替换为 <code>ros_gz</code> ，并更新启动文件和其他配置文件以适配新的Gazebo版本。此外，由于Gazebo版本之间可能存在API变更和功能差异，用户可能还需要对仿真场景、机器人模型或传感器配置等进行调整。</p>
<p>总的来说，迁移过程可能涉及多方面的更改，并且需要对Gazebo和ROS 2的新特性有一定的了解。然而，通过遵循本教程的指导，用户可以成功地将他们的ROS 2项目迁移到使用新Gazebo版本的平台，并继续利用Gazebo的强大功能进行机器人仿真和测试。</p>
<p><strong>需要完整的humble-devel的turtlebot3功能包。</strong></p>
<p><strong>总结</strong> ：</p>
<p>在将ROS 2项目从使用Gazebo Classic迁移到使用新Gazebo（如通过 <code>ros_gz</code> 桥接）时，我们需要进行一系列关键的修改。这些修改涵盖了项目配置、启动文件、世界和模型文件以及ROS话题的桥接。以下是具体需要进行的更改概述：</p>
<ol>
<li><strong>修改</strong> <code>**package.xml**</code> <strong>和</strong> <strong><code>CMakeLists.txt</code></strong> <strong>文件</strong> ：</li>
</ol>
<ul>
<li>需要将原来依赖于 <code>gazebo</code> 、 <code>gazebo_ros_pkgs</code> 等包的引用替换为 <code>ros_gz</code> 及其相关包。这包括在 <code>package.xml</code> 中添加或更新依赖项，以及在 <code>CMakeLists.txt</code> 中调整find_package和target_link_libraries等指令，以确保项目能够正确链接到新的库和包。</li>
</ul>
<ol>
<li><strong>编辑启动Gazebo的启动文件</strong> （如 <code>empty_world.launch.py</code> ）：</li>
</ol>
<ul>
<li>需要更新这些文件以使用新Gazebo版本的启动命令和参数。这可能包括更改Gazebo服务器的URI、调整仿真参数或指定新的世界文件。</li>
</ul>
<ol>
<li><strong>更新世界SDFormat文件</strong> ：</li>
</ol>
<ul>
<li>SDFormat（Simulation Description Format）是用于描述仿真环境的XML格式。需要确保世界文件与新Gazebo版本的兼容性，并可能需要根据新版本的特性进行更新。</li>
</ul>
<ol>
<li><strong>编辑生成模型的启动文件</strong> ：</li>
</ol>
<ul>
<li>这些文件负责在仿真环境中生成和放置机器人模型。需要更新它们以使用新Gazebo版本的API和参数，并确保模型能够正确加载和交互。</li>
</ul>
<ol>
<li><strong>编辑模型SDFormat文件</strong> ：</li>
</ol>
<ul>
<li>类似于世界文件，模型文件也需要根据新Gazebo版本的SDFormat规范进行更新。这可能包括调整模型属性、传感器配置或插件设置。</li>
</ul>
<ol>
<li><strong>桥接ROS话题</strong> ：</li>
</ol>
<ul>
<li>由于 <code>ros_gz</code> 主要作为ROS和 <code>gz-transport</code> 之间的桥梁，因此可能需要设置额外的ROS节点或配置，以便在ROS和Gazebo之间桥接话题。这可以确保ROS节点能够接收来自Gazebo的传感器数据，并向Gazebo发送控制命令。</li>
</ul>
<p>通过这些步骤，我们可以确保ROS 2项目能够顺利迁移到使用新Gazebo版本的平台，并继续利用Gazebo的强大功能进行机器人仿真和测试。需要注意的是，具体的修改步骤可能会根据项目的具体情况和新Gazebo版本的特性而有所不同。因此，在进行迁移时，建议仔细阅读相关文档和迁移指南，并根据需要进行适当的调整。</p>
<hr>
<p>很麻烦……</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="新版本">新版本<a href="#新版本" class="hash-link" aria-label="新版本的直接链接" title="新版本的直接链接">​</a></h2>
<p>gz sim</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/usr/bin/env python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copyright 2019 ROBOTIS CO., LTD.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># you may not use this file except in compliance with the License.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># You may obtain a copy of the License at</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#     http://www.apache.org/licenses/LICENSE-2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Unless required by applicable law or agreed to in writing, software</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># See the License for the specific language governing permissions and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># limitations under the License.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Authors: Joep Tool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from ament_index_python.packages import get_package_share_directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch import LaunchDescription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch.actions import AppendEnvironmentVariable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch.actions import IncludeLaunchDescription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch.launch_description_sources import PythonLaunchDescriptionSource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from launch.substitutions import LaunchConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def generate_launch_description():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    launch_file_dir = os.path.join(get_package_share_directory(&#x27;turtlebot3_gazebo&#x27;), &#x27;launch&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ros_gz_sim = get_package_share_directory(&#x27;ros_gz_sim&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    use_sim_time = LaunchConfiguration(&#x27;use_sim_time&#x27;, default=&#x27;true&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_pose = LaunchConfiguration(&#x27;x_pose&#x27;, default=&#x27;-2.0&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    y_pose = LaunchConfiguration(&#x27;y_pose&#x27;, default=&#x27;-0.5&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    world = os.path.join(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        get_package_share_directory(&#x27;turtlebot3_gazebo&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;worlds&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;turtlebot3_world.world&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    set_env_vars_resources = AppendEnvironmentVariable(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;GZ_SIM_RESOURCE_PATH&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            os.path.join(get_package_share_directory(&#x27;turtlebot3_gazebo&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         &#x27;models&#x27;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gzserver_cmd = IncludeLaunchDescription(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PythonLaunchDescriptionSource(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            os.path.join(ros_gz_sim, &#x27;launch&#x27;, &#x27;gz_sim.launch.py&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        launch_arguments={&#x27;gz_args&#x27;: [&#x27;-r -s -v4 &#x27;, world]}.items()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gzclient_cmd = IncludeLaunchDescription(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PythonLaunchDescriptionSource(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            os.path.join(ros_gz_sim, &#x27;launch&#x27;, &#x27;gz_sim.launch.py&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        launch_arguments={&#x27;gz_args&#x27;: &#x27;-g -v4 &#x27;}.items()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    robot_state_publisher_cmd = IncludeLaunchDescription(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PythonLaunchDescriptionSource(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            os.path.join(launch_file_dir, &#x27;robot_state_publisher.launch.py&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        launch_arguments={&#x27;use_sim_time&#x27;: use_sim_time}.items()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spawn_turtlebot_cmd = IncludeLaunchDescription(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PythonLaunchDescriptionSource(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            os.path.join(launch_file_dir, &#x27;spawn_turtlebot3.launch.py&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        launch_arguments={</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;x_pose&#x27;: x_pose,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;y_pose&#x27;: y_pose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }.items()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ld = LaunchDescription()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Add the commands to the launch description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ld.add_action(set_env_vars_resources)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ld.add_action(gzserver_cmd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ld.add_action(gzclient_cmd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ld.add_action(robot_state_publisher_cmd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ld.add_action(spawn_turtlebot_cmd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ld1.2.3.4.5.6.7.8.9.10.11.12.13.14.15.16.17.18.19.20.21.22.23.24.25.26.27.28.29.30.31.32.33.34.35.36.37.38.39.40.41.42.43.44.45.46.47.48.49.50.51.52.53.54.55.56.57.58.59.60.61.62.63.64.65.66.67.68.69.70.71.72.73.74.75.76.77.78.79.80.81.82.83.84.85.86.</span><br></span></code></pre></div></div>
<p>这个Python脚本是一个ROS 2的启动文件，用于在Gazebo模拟器中启动TurtleBot3的仿真环境。它使用了 <code>launch</code> 模块来组织和配置不同的启动动作。下面是脚本的主要组成部分及其功能解析：</p>
<ol>
<li><strong>导入必要的模块</strong> ：</li>
</ol>
<ul>
<li><code>os</code> ：用于文件路径操作。</li>
<li><code>ament_index_python.packages</code> ：用于获取ROS 2包的共享目录。</li>
<li><code>launch</code> 相关的类和函数：用于创建和配置启动描述。</li>
</ul>
<ol>
<li><strong>获取必要的文件路径</strong> ：</li>
</ol>
<ul>
<li>使用 <code>get_package_share_directory</code> 函数获取 <code>turtlebot3_gazebo</code> 和 <code>ros_gz_sim</code> （这里可能是自定义的或示例中的模拟包，实际ROS 2中可能没有 <code>ros_gz_sim</code> ，通常会是如 <code>gazebo_ros</code> 的某个版本）包的共享目录。</li>
<li>设置Gazebo世界的路径和模型资源的路径。</li>
</ul>
<ol>
<li><strong>配置启动参数</strong> ：</li>
</ol>
<ul>
<li><code>use_sim_time</code> ：一个可选的启动配置，用于指示是否使用仿真时间。</li>
<li><code>x_pose</code> 和 <code>y_pose</code> ：TurtleBot3在仿真世界中的初始位置。</li>
</ul>
<ol>
<li><strong>设置环境变量</strong> ：</li>
</ol>
<ul>
<li>通过 <code>AppendEnvironmentVariable</code> 添加 <code>GZ_SIM_RESOURCE_PATH</code> 环境变量，该变量指向TurtleBot3模型的目录，这样Gazebo就能找到并加载这些模型。</li>
</ul>
<ol>
<li><strong>构建Gazebo的启动命令</strong> ：</li>
</ol>
<ul>
<li><code>gzserver_cmd</code> ：启动Gazebo服务器的命令，它指定了世界文件和启动参数（如实时模式、服务器模式、详细输出）。</li>
<li><code>gzclient_cmd</code> ：启动Gazebo客户端的命令，它允许用户通过图形界面与Gazebo交互。</li>
</ul>
<ol>
<li><strong>配置和添加其他ROS 2节点</strong> ：</li>
</ol>
<ul>
<li><code>robot_state_publisher_cmd</code> ：启动 <code>robot_state_publisher</code> 节点，该节点发布机器人的状态信息，这对于许多ROS 2组件（如导航）是必需的。</li>
<li><code>spawn_turtlebot_cmd</code> ：启动一个用于在Gazebo中生成TurtleBot3的命令，该命令指定了机器人的初始位置。</li>
</ul>
<ol>
<li><strong>创建并返回启动描述</strong> ：</li>
</ol>
<ul>
<li>使用 <code>LaunchDescription()</code> 创建一个空的启动描述。</li>
<li>向该描述中添加之前定义的所有动作（设置环境变量、启动Gazebo服务器和客户端、启动其他ROS 2节点）。</li>
<li>返回该启动描述，以便可以通过ROS 2的 <code>launch</code> 工具运行它。</li>
</ul>
<p><strong>注意</strong> ：</p>
<ul>
<li>脚本中提到的 <code>ros_gz_sim</code> 包可能是一个虚构的或特定于项目的包，用于封装Gazebo模拟的启动逻辑。在标准的ROS 2发行版中，你通常会使用 <code>gazebo_ros</code> 包或其他相关的Gazebo ROS 2桥接包。</li>
<li><code>launch_arguments</code> 中的字典被转换成了<code>.items()</code> ，这在ROS 2的 <code>launch</code> 模块中是期望的格式，因为 <code>launch_arguments</code> 期望一个字典的项（键值对）列表。</li>
<li>该脚本假定了一些启动文件的存在（如 <code>gz_sim.launch.py</code> 、 <code>robot_state_publisher.launch.py</code> 和 <code>spawn_turtlebot3.launch.py</code> ），这些文件需要在相应的路径下被正确实现。</li>
</ul>
<p>Gazebo，作为一个自2002年起就开始发展的机器人仿真平台，经过超过15年的持续开发，终于迎来了重大的升级和现代化改造。这一变革不仅提升了Gazebo的性能和功能，还将其从传统的单体架构转变为一系列松散耦合的库集合，形成了新的Gazebo架构。为了区分，我们将旧版本的Gazebo（如Gazebo 9和Gazebo 11）称为“Gazebo Classic”，而将新版本（原称为“Ignition”，现以字母名称如Harmonic发布）简称为“Gazebo”。</p>
<p>针对这一重大变更，以下是对迁移Gazebo Classic项目到新版Gazebo的一些关键指导和资源概述：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="迁移ros-2包中使用的gazebo-classic">迁移ROS 2包中使用的Gazebo Classic<a href="#迁移ros-2包中使用的gazebo-classic" class="hash-link" aria-label="迁移ROS 2包中使用的Gazebo Classic的直接链接" title="迁移ROS 2包中使用的Gazebo Classic的直接链接">​</a></h4>
<p>对于使用ROS 2并集成了Gazebo Classic的项目，迁移过程需要特别注意ROS 2与新版Gazebo之间的集成方式。这通常涉及更新ROS 2包中的依赖项，并确保所有接口和插件都兼容新版Gazebo。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装gazebo11与新gazebo并行">安装Gazebo11与新Gazebo并行<a href="#安装gazebo11与新gazebo并行" class="hash-link" aria-label="安装Gazebo11与新Gazebo并行的直接链接" title="安装Gazebo11与新Gazebo并行的直接链接">​</a></h4>
<p>为了顺利迁移，建议将Gazebo11（或您当前使用的Gazebo Classic版本）与新版本的Gazebo并行安装。这允许在迁移过程中 保持对旧版本的访问，以便进行测试和比较。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="迁移插件">迁移插件<a href="#迁移插件" class="hash-link" aria-label="迁移插件的直接链接" title="迁移插件的直接链接">​</a></h4>
<p>插件是Gazebo中用于扩展功能的关键组件。从Gazebo Classic迁移到新版Gazebo时，可能需要对插件进行重写或修改，以确保它们兼容新架构。Gazebo提供了详细的迁移指南，涵盖了从Fortress到Harmonic版本的插件迁移。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="迁移sdf文件">迁移SDF文件<a href="#迁移sdf文件" class="hash-link" aria-label="迁移SDF文件的直接链接" title="迁移SDF文件的直接链接">​</a></h4>
<p>SDF（Simulation Description Format）是Gazebo用于描述仿真世界的XML格式。从Gazebo Classic迁移到新版Gazebo时，可能需要更新SDF文件以利用新版Gazebo的特性或修正潜在的兼容性问题。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="案例研究迁移ardupilot-modelplugin">案例研究：迁移ArduPilot ModelPlugin<a href="#案例研究迁移ardupilot-modelplugin" class="hash-link" aria-label="案例研究：迁移ArduPilot ModelPlugin的直接链接" title="案例研究：迁移ArduPilot ModelPlugin的直接链接">​</a></h4>
<p>通过具体的案例研究，如将ArduPilot的ModelPlugin从Gazebo Classic迁移到新版Gazebo，可以更直观地了解迁移过程中可能遇到的挑战和解决方案。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sdf世界的基本描述">SDF世界的基本描述<a href="#sdf世界的基本描述" class="hash-link" aria-label="SDF世界的基本描述的直接链接" title="SDF世界的基本描述的直接链接">​</a></h4>
<p>了解SDF的基本结构和如何描述仿真世界对于成功迁移至关重要。新版Gazebo可能对SDF的某些方面进行了扩展或修改，因此了解这些变化是必要的。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="与gazebo-classic的功能比较">与Gazebo Classic的功能比较<a href="#与gazebo-classic的功能比较" class="hash-link" aria-label="与Gazebo Classic的功能比较的直接链接" title="与Gazebo Classic的功能比较的直接链接">​</a></h4>
<p>新版Gazebo在性能、可扩展性和易用性方面进行了诸多改进。了解这些改进以及它们如何与Gazebo Classic进行比较，有助于确定迁移的优先级和策略。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ros_gz文档">ros_gz文档<a href="#ros_gz文档" class="hash-link" aria-label="ros_gz文档的直接链接" title="ros_gz文档的直接链接">​</a></h4>
<p><code>ros_gz</code> 是ROS 2与Gazebo集成的关键部分。迁移过程中，确保熟悉 <code>ros_gz</code> 的文档和更新，以便正确集成ROS 2和新版Gazebo。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="插件系统列表">插件系统列表<a href="#插件系统列表" class="hash-link" aria-label="插件系统列表的直接链接" title="插件系统列表的直接链接">​</a></h4>
<p>了解新版Gazebo中可用的插件系统列表及其功能，有助于在迁移过程中替换或升级现有插件。</p>
<p><strong>总结</strong> ：<br>
<!-- -->迁移Gazebo Classic项目到新版Gazebo是一个复杂但必要的过程，它涉及更新依赖项、重写插件、修改SDF文件等多个方面。通过遵循迁移指南、利用案例研究和熟悉新版Gazebo的特性，可以顺利完成迁移并确保项目的持续运行和发展。</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Classic 迁移"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Gazebo Classic 迁移</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Algorithm_Development/SIMULATOR/SITL/Gazebo/Docs/Gazebo Sim  架构 — Gazebo Harmonic 文档"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Gazebo Sim 架构 — Gazebo Harmonic 文档</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#激光显示" class="table-of-contents__link toc-highlight">激光显示</a></li><li><a href="#rviz2" class="table-of-contents__link toc-highlight">rviz2</a></li><li><a href="#新旧版本并存的混乱" class="table-of-contents__link toc-highlight">新旧版本并存的混乱</a></li><li><a href="#简洁的流程" class="table-of-contents__link toc-highlight">简洁的流程</a></li><li><a href="#新版本" class="table-of-contents__link toc-highlight">新版本</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.utmsys.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.utmsys.org/pages/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Follow Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/utmsys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@utmsys/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/profile.php?id=61574010301135/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/utmsys/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 UTMSYS.</div></div></div></footer></div>
</body>
</html>