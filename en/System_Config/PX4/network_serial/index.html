<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-System_Config/PX4/network_serial" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">5.1.1 PX4 Network &amp; Serial | UTMSYS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.utmsys.org/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wiki.utmsys.org/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wiki.utmsys.org/en/System_Config/PX4/network_serial"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="5.1.1 PX4 Network &amp; Serial | UTMSYS"><meta data-rh="true" name="description" content="PX4 Ethernet"><meta data-rh="true" property="og:description" content="PX4 Ethernet"><link data-rh="true" rel="icon" href="/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://wiki.utmsys.org/en/System_Config/PX4/network_serial"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/System_Config/PX4/network_serial" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/en/System_Config/PX4/network_serial" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/System_Config/PX4/network_serial" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"5. System Configuration","item":"https://wiki.utmsys.org/en/05_System_Config"},{"@type":"ListItem","position":2,"name":"5.1 PX4","item":"https://wiki.utmsys.org/en/01_PX4"},{"@type":"ListItem","position":3,"name":"5.1.1 PX4 Network & Serial","item":"https://wiki.utmsys.org/en/System_Config/PX4/network_serial"}]}</script><link rel="stylesheet" href="/en/assets/css/styles.194bd4cc.css">
<script src="/en/assets/js/runtime~main.20309f00.js" defer="defer"></script>
<script src="/en/assets/js/main.fea3218e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">UTMSYS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/01_Product_Overview">Start</a><a href="https://www.utmsys.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/utmsys/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/System_Config/PX4/network_serial" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li><li><a href="/en/System_Config/PX4/network_serial" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/01_Product_Overview">1. Product Overview</a><button aria-label="Expand sidebar category &#x27;1. Product Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/02_Hardware_Connection">2. Hardware Connection</a><button aria-label="Expand sidebar category &#x27;2. Hardware Connection&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/03_Image_Flash">3. Image Flashing</a><button aria-label="Expand sidebar category &#x27;3. Image Flashing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/04_Terminal_Access">4. Terminal Access</a><button aria-label="Expand sidebar category &#x27;4. Terminal Access&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/en/05_System_Config">5. System Configuration</a><button aria-label="Collapse sidebar category &#x27;5. System Configuration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/en/01_PX4">5.1 PX4</a><button aria-label="Collapse sidebar category &#x27;5.1 PX4&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/System_Config/PX4/network_serial">5.1.1 PX4 Network &amp; Serial</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/02_RDK X5 Module">5.2 RDK X5 Module</a><button aria-label="Expand sidebar category &#x27;5.2 RDK X5 Module&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/06_Software_Install">6. Software Installation</a><button aria-label="Expand sidebar category &#x27;6. Software Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/07_Data_Communication">7. Data Communication</a><button aria-label="Expand sidebar category &#x27;7. Data Communication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/08_Application_Development">8. Application Development</a><button aria-label="Expand sidebar category &#x27;8. Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/09_Algorithm_Development">9. Algorithm Development</a><button aria-label="Expand sidebar category &#x27;9. Algorithm Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/10_Debug_Commands">10. Debug Commands</a><button aria-label="Expand sidebar category &#x27;10. Debug Commands&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/11_Concepts">11. Concepts</a><button aria-label="Expand sidebar category &#x27;11. Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/12_FAQ">12. FAQ</a><button aria-label="Expand sidebar category &#x27;12. FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/13_Release">13. Release</a><button aria-label="Expand sidebar category &#x27;13. Release&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/UTMSYS">UTMSYS</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/en/05_System_Config"><span>5. System Configuration</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/en/01_PX4"><span>5.1 PX4</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">5.1.1 PX4 Network &amp; Serial</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>5.1.1 PX4 Network &amp; Serial</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="px4-ethernet">PX4 Ethernet<a href="#px4-ethernet" class="hash-link" aria-label="Direct link to PX4 Ethernet" title="Direct link to PX4 Ethernet">​</a></h2>
<p>Ethernet connections offer a faster, more reliable, and more flexible communications alternative than using USB or other serial connections.</p>
<p>It can be used to connect to ground stations, companion computers, and other MAVLink systems. It is particularly recommended for connecting to systems that use Ethernet &quot;natively&quot; (such as IP radios).</p>
<p>PX4 uses the <a href="https://docs.px4.io/main/en/modules/modules_system.html#netman" target="_blank" rel="noopener noreferrer">netman</a> module to apply and update network settings.</p>
<p>The default configuration will first request an IP address from DHCP, and if that fails, will fall back to the default static address <code>10.41.10.2</code>. You can explicitly set any static IP address (including the default address) to bypass the initial DHCP check, which will speed up the connection.</p>
<p>The network settings are defined in a configuration file on the SD card <code>/fs/microsd/net.cfg</code>. This is a text file with one setting per line, and each setting corresponds to a <code>name=value</code> configuration file. A configuration file might look like this:</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DEVICE=eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BOOTPROTO=fallback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IPADDR=10.41.10.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NETMASK=255.255.255.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ROUTER=10.41.10.254</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DNS=10.41.10.254</span><br></span></code></pre></div></div>
<p>The values are:</p>
<ul>
<li><code>DEVICE</code>: Interface name. Defaults to <code>eth0</code>.</li>
<li><code>BOOTPROTO</code>: Protocol for obtaining the PX4 IP address. Valid values for proto are: <code>dhcp</code>, <code>static</code>, <code>fallback</code> (use DHCP, but if that fails, revert to a static address after a while)</li>
<li><code>IPADDR</code>: Static IP address ( <code>static</code> used if BOOTPROTO is or <code>fallback</code>)</li>
<li><code>NETMASK</code>:Network<!-- --> mask</li>
<li><code>ROUTER</code>: The address of the default route.</li>
<li><code>DNS</code>: DNS server address.</li>
</ul>
<p>To set up the above &quot;example&quot; configuration using QGroundControl:</p>
<ol>
<li>Connect the flight controller to your computer using a USB cable.</li>
<li>Open <strong>QGroundcontrol &gt; Analysis Tools &gt; MAVLink Console</strong></li>
<li>Enter a command similar to the following in the MAVLink console (to write the value to the configuration file):<!-- -->
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo DEVICE=eth0 &gt; /fs/microsd/net.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo BOOTPROTO=fallback &gt;&gt; /fs/microsd/net.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo IPADDR=10.41.10.2 &gt;&gt; /fs/microsd/net.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo NETMASK=255.255.255.0 &gt;&gt;/fs/microsd/net.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo ROUTER=10.41.10.254 &gt;&gt;/fs/microsd/net.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo DNS=10.41.10.254 &gt;&gt;/fs/microsd/net.cfg</span><br></span></code></pre></div></div>
</li>
<li>Once the network configuration is set up, you can disconnect the USB cable.</li>
<li>Restart the flight controller to apply the settings.</li>
</ol>
<p>Note that the above settings already provide an Ethernet address for the flight controller. You will also need to <a href="https://docs.px4.io/main/en/advanced_config/ethernet_setup.html#px4-mavlink-serial-port-configuration" target="_blank" rel="noopener noreferrer">configure the Ethernet port</a> to use MAVLink.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="px4-mavlink-serial-port">PX4 MAVLink Serial Port<a href="#px4-mavlink-serial-port" class="hash-link" aria-label="Direct link to PX4 MAVLink Serial Port" title="Direct link to PX4 MAVLink Serial Port">​</a></h2>
<p>The Ethernet port configuration sets the properties of the serial link (i.e. how PX4 sees the Ethernet connection). This includes the MAVLink message set that is streamed, the data rate, the UDP port that remote systems can connect to and listen on, etc.</p>
<p>Configure the PX4 serial port to connect to the GCS via MAVLink, using the parameters shown below:</p>
<table><thead><tr><th>scope</th><th>value</th><th>describe</th></tr></thead><tbody><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_CONFIG" target="_blank" rel="noopener noreferrer">MAV_2_CONFIG</a></td><td>1000</td><td>Configuring Ethernet Ports</td></tr><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_BROADCAST" target="_blank" rel="noopener noreferrer">MAV_2_BROADCAST</a></td><td>1</td><td>Broadcast <code>HEARTBEAT</code> Message</td></tr><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_MODE" target="_blank" rel="noopener noreferrer">MAV_2_MODE</a></td><td>0</td><td>Sending a &quot;normal&quot; MAVLink message set (i.e. GCS setup)</td></tr><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_RADIO_CTL" target="_blank" rel="noopener noreferrer">MAV_2_RADIO_CTL</a></td><td>0</td><td>Disable software restrictions for MAVLink traffic</td></tr><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_RATE" target="_blank" rel="noopener noreferrer">MAV_2_RATE</a></td><td>100000</td><td>Maximum sending rate</td></tr><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT" target="_blank" rel="noopener noreferrer">MAV_2_REMOTE_PRT</a></td><td>14550</td><td>MAVLink remote port 14550 (GCS)</td></tr><tr><td><a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_UDP_PRT" target="_blank" rel="noopener noreferrer">MAV_2_UDP_PRT</a></td><td>14550</td><td>MAVLink network port 14550 (GCS)</td></tr></tbody></table>
<p>Typically, the companion computer will use the port <code>14540</code> (instead of <code>14550</code>) and transmit the MAVLink message set specified in the configuration file <code>Onboard</code>. You can configure this by changing <a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT" target="_blank" rel="noopener noreferrer">MAV_2_REMOTE_PRT</a> and <a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_UDP_PRT" target="_blank" rel="noopener noreferrer">MAV_2_UDP_PRT</a> to, <code>14540</code> and changing <a href="https://docs.px4.io/main/en/advanced_config/parameter_reference.html#MAV_2_MODE" target="_blank" rel="noopener noreferrer">MAV_2_MODE</a> <code>2</code> to (Onboard). However, please note that using the GCS configuration file will still work correctly.</p>
<p>For more information on MAVLink serial port configuration, see <a href="https://docs.px4.io/main/en/peripherals/mavlink_peripherals.html" target="_blank" rel="noopener noreferrer">MAVLink Peripherals (GCS/OSD/Companion)</a></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/01_PX4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">5.1 PX4</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/02_RDK X5 Module"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">5.2 RDK X5 Module</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#px4-ethernet" class="table-of-contents__link toc-highlight">PX4 Ethernet</a></li><li><a href="#px4-mavlink-serial-port" class="table-of-contents__link toc-highlight">PX4 MAVLink Serial Port</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.utmsys.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.utmsys.org/pages/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Follow Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/utmsys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@utmsys/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/profile.php?id=61574010301135/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/utmsys/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 utmsys.</div></div></div></footer></div>
</body>
</html>