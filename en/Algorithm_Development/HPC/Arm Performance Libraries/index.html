<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Algorithm_Development/HPC/Arm Performance Libraries" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Arm Performance Libraries | UTMSYS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.utmsys.org/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wiki.utmsys.org/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wiki.utmsys.org/en/Algorithm_Development/HPC/Arm Performance Libraries"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Arm Performance Libraries | UTMSYS"><meta data-rh="true" name="description" content="When replacing Eigen&#x27;s backend with the Arm Performance Libraries (APL), which includes optimized linear algebra implementations such as Arm BLAS and LAPACK, the core idea is to have Eigen call the underlying linear algebra functions (such as matrix multiplication and decomposition) provided by APL, which are optimized for the Arm architecture, rather than Eigen&#x27;s own general-purpose implementations. This allows APL to leverage the instruction set (such as NEON) and architectural features optimized for Arm CPUs (such as the A55) to improve computing performance. The following are the specific steps and precautions:"><meta data-rh="true" property="og:description" content="When replacing Eigen&#x27;s backend with the Arm Performance Libraries (APL), which includes optimized linear algebra implementations such as Arm BLAS and LAPACK, the core idea is to have Eigen call the underlying linear algebra functions (such as matrix multiplication and decomposition) provided by APL, which are optimized for the Arm architecture, rather than Eigen&#x27;s own general-purpose implementations. This allows APL to leverage the instruction set (such as NEON) and architectural features optimized for Arm CPUs (such as the A55) to improve computing performance. The following are the specific steps and precautions:"><link data-rh="true" rel="icon" href="/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://wiki.utmsys.org/en/Algorithm_Development/HPC/Arm Performance Libraries"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/Algorithm_Development/HPC/Arm Performance Libraries" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/en/Algorithm_Development/HPC/Arm Performance Libraries" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.utmsys.org/Algorithm_Development/HPC/Arm Performance Libraries" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"9. Algorithm Development","item":"https://wiki.utmsys.org/en/09_Algorithm_Development"},{"@type":"ListItem","position":2,"name":"9.8 HPC","item":"https://wiki.utmsys.org/en/08_HPC"},{"@type":"ListItem","position":3,"name":"Arm Performance Libraries ","item":"https://wiki.utmsys.org/en/Algorithm_Development/HPC/Arm Performance Libraries"}]}</script><link rel="stylesheet" href="/en/assets/css/styles.194bd4cc.css">
<script src="/en/assets/js/runtime~main.c0ec1c8d.js" defer="defer"></script>
<script src="/en/assets/js/main.a750065b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">UTMSYS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/01_Product_Overview">Start</a><a href="https://www.utmsys.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/utmsys/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/Algorithm_Development/HPC/Arm Performance Libraries" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li><li><a href="/en/Algorithm_Development/HPC/Arm Performance Libraries" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/01_Product_Overview">1. Product Overview</a><button aria-label="Expand sidebar category &#x27;1. Product Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/02_Hardware_Connection">2. Hardware Connection</a><button aria-label="Expand sidebar category &#x27;2. Hardware Connection&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/03_Image_Flash">3. Image Flashing</a><button aria-label="Expand sidebar category &#x27;3. Image Flashing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/04_Terminal_Access">4. Terminal Access</a><button aria-label="Expand sidebar category &#x27;4. Terminal Access&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/05_System_Config">5. System Configuration</a><button aria-label="Expand sidebar category &#x27;5. System Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/06_Software_Install">6. Software Installation</a><button aria-label="Expand sidebar category &#x27;6. Software Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/07_Data_Communication">7. Data Communication</a><button aria-label="Expand sidebar category &#x27;7. Data Communication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/08_Application_Development">8. Application Development</a><button aria-label="Expand sidebar category &#x27;8. Application Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/en/09_Algorithm_Development">9. Algorithm Development</a><button aria-label="Collapse sidebar category &#x27;9. Algorithm Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/01_CV">9.1 CV</a><button aria-label="Expand sidebar category &#x27;9.1 CV&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/02_MISSION">9.2 MISSION</a><button aria-label="Expand sidebar category &#x27;9.2 MISSION&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/03_PLANNER">9.3 PLANNER</a><button aria-label="Expand sidebar category &#x27;9.3 PLANNER&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/04_SLAM">9.4 SLAM</a><button aria-label="Expand sidebar category &#x27;9.4 SLAM&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/05_SIMULATOR">9.5 Simulator</a><button aria-label="Expand sidebar category &#x27;9.5 Simulator&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/06_RL">9.6 RL</a><button aria-label="Expand sidebar category &#x27;9.6 RL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/en/07_VLM">9.7 VLM</a><button aria-label="Expand sidebar category &#x27;9.7 VLM&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/en/08_HPC">9.8 HPC</a><button aria-label="Collapse sidebar category &#x27;9.8 HPC&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/Algorithm_Development/HPC/8xA55 ARM CPU Perf">8xA55 ARM CPU Perf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/Algorithm_Development/HPC/ARM Perf">ARM Perf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/Algorithm_Development/HPC/Arm Performance Libraries">Arm Performance Libraries </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/Algorithm_Development/HPC/EMLL">EMLL</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/10_Debug_Commands">10. Debug Commands</a><button aria-label="Expand sidebar category &#x27;10. Debug Commands&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/11_Concepts">11. Concepts</a><button aria-label="Expand sidebar category &#x27;11. Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/12_FAQ">12. FAQ</a><button aria-label="Expand sidebar category &#x27;12. FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/en/13_Release">13. Release</a><button aria-label="Expand sidebar category &#x27;13. Release&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/UTMSYS">UTMSYS</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/en/09_Algorithm_Development"><span>9. Algorithm Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/en/08_HPC"><span>9.8 HPC</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Arm Performance Libraries </span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Arm Performance Libraries </h1></header><p>When replacing Eigen&#x27;s backend with the Arm Performance Libraries (APL), which includes optimized linear algebra implementations such as Arm BLAS and LAPACK, the core idea is to have Eigen call the underlying linear algebra functions (such as matrix multiplication and decomposition) provided by APL, which are optimized for the Arm architecture, rather than Eigen&#x27;s own general-purpose implementations. This allows APL to leverage the instruction set (such as NEON) and architectural features optimized for Arm CPUs (such as the A55) to improve computing performance. The following are the specific steps and precautions:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-principle-eigens">1. Principle: Eigen&#x27;s<a href="#1-principle-eigens" class="hash-link" aria-label="Direct link to 1. Principle: Eigen&#x27;s" title="Direct link to 1. Principle: Eigen&#x27;s">​</a></h3>
<p>Eigen itself is a header-only library. Its underlying linear algebra operations use its own handwritten implementation by default (partially optimized with NEON instructions), but it also supports calling external optimized BLAS (Basic Linear Algebra Subprograms) and LAPACK (Linear Algebra Package) libraries (such as APL, OpenBLAS, and MKL) through <strong>interface adaptation</strong><br>
<!-- -->. When Eigen detects external BLAS/LAPACK, it prioritizes calling these libraries&#x27; efficient implementations (especially for large matrix operations such as <code>gemm</code> matrix multiplication and <code>gesvd</code> singular value decomposition), thereby improving performance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-specific-steps-replace-eigen">2. Specific steps: Replace Eigen<a href="#2-specific-steps-replace-eigen" class="hash-link" aria-label="Direct link to 2. Specific steps: Replace Eigen" title="Direct link to 2. Specific steps: Replace Eigen">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-the-arm-performance">1. Install the Arm Performance<a href="#1-install-the-arm-performance" class="hash-link" aria-label="Direct link to 1. Install the Arm Performance" title="Direct link to 1. Install the Arm Performance">​</a></h4>
<p>First, you need to install APL on the target Arm platform (such as an A55 architecture edge device).</p>
<ul>
<li><strong>Download</strong>: Get the APL installation package for Arm 64-bit (aarch64) from the Arm official website (registration required, <a href="https://developer.arm.com/tools-and-software/server-and-hpc/arm-performance-libraries" target="_blank" rel="noopener noreferrer">Arm developer website</a> ).</li>
<li><strong>Installation</strong>: Install according to the official guide. The default path is usually <code>/opt/arm/armpl/&lt;版本号&gt;/</code>, which contains header files ( <code>include/</code>) and library files ( <code>lib/</code>, such as <code>libarmpl_lp64.so</code>, <code>lp64</code> corresponding to 64-bit mode).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-configure-eigen-to-enable-external-blaslapack">2. Configure Eigen to enable external BLAS/LAPACK<a href="#2-configure-eigen-to-enable-external-blaslapack" class="hash-link" aria-label="Direct link to 2. Configure Eigen to enable external BLAS/LAPACK" title="Direct link to 2. Configure Eigen to enable external BLAS/LAPACK">​</a></h4>
<p>Eigen controls whether to enable external BLAS/LAPACK through macro definitions. Relevant macros and link options must be specified during compilation.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="1-modify-eigen-configuration-or-compile-macro">(1) Modify Eigen configuration (or compile macro<a href="#1-modify-eigen-configuration-or-compile-macro" class="hash-link" aria-label="Direct link to (1) Modify Eigen configuration (or compile macro" title="Direct link to (1) Modify Eigen configuration (or compile macro">​</a></h5>
<p><strong>Define the following macros before including the Eigen header file</strong> in your code , or pass them in the compilation command <code>-D</code>:</p>
<p>cpp</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 启用 Eigen 对外部 BLAS 的支持</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">EIGEN_USE_BLAS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 启用 Eigen 对外部 LAPACK 的支持（如需矩阵分解等高级功能）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">EIGEN_USE_LAPACK</span><br></span></code></pre></div></div>
<p><code>cblas_*</code> These macros will cause Eigen to prioritize calling external BLAS (such as APL functions) and LAPACK (such as functions) when compiling <code>lapack_*</code>.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="2-linking-the-apl">(2) Linking the APL<a href="#2-linking-the-apl" class="hash-link" aria-label="Direct link to (2) Linking the APL" title="Direct link to (2) Linking the APL">​</a></h5>
<p>When compiling the code, you need to specify the APL header file path, library path, and link the APL BLAS/LAPACK library.<br>
<!-- -->For <code>g++</code> example, the compilation command must include:</p>
<p>bash</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 头文件路径（APL 的 include 目录）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-I/opt/arm/armpl/&lt;版本号&gt;/include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 库文件路径（APL 的 lib 目录）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-L/opt/arm/armpl/&lt;版本号&gt;/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 链接 APL 的 BLAS/LAPACK 库（根据 APL 版本可能需要调整库名）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-larmpl_lp64 -larmpl_lp64_mp  # 64位模式的库，具体名称以安装目录为准</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 若 APL 依赖其他库（如 pthread），需补充链接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-lpthread -lm</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-verify-that">3. Verify that<a href="#3-verify-that" class="hash-link" aria-label="Direct link to 3. Verify that" title="Direct link to 3. Verify that">​</a></h4>
<p>After the replacement, you need to verify whether Eigen actually uses the APL backend to avoid still using Eigen&#x27;s own implementation:</p>
<ul>
<li><strong>Method 1: Check the compilation log.</strong><br>
<!-- -->If a prompt similar to the call appears during compilation <code>Eigen::blas::gemm</code> (or no error is reported), it means that the macro definition is effective.</li>
<li><strong>Method 2: Performance Comparison</strong><br>
<!-- -->: Run code containing large matrix operations (such as <code>matrixA * matrixB</code> and <code>matrix.jacobiSvd()</code>) and compare the time taken before and after the replacement. If APL is correctly adapted, the performance of large matrix operations should be significantly improved (the difference may not be noticeable for small matrices due to call overhead).</li>
<li><strong>Method 3: Tool debugging</strong><br>
<!-- -->Use <code>ldd</code> the command to check whether the generated executable file is linked with the APL library (for example <code>libarmpl_lp64.so</code>):
bash<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ldd your_executable | grep armpl</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3">3.<a href="#3" class="hash-link" aria-label="Direct link to 3." title="Direct link to 3.">​</a></h3>
<ol>
<li><strong>Applicable Scenarios:</strong><br>
<!-- -->APL significantly optimizes <strong>large matrix operations</strong> (such as matrix multiplication and SVD decomposition with dimensions &gt; 100). However, for small matrices (such as 3x3 matrices in VIO), it may not be as efficient as Eigen&#x27;s built-in NEON optimization due to high function call overhead. The benefits should be determined based on the matrix size of the actual algorithm (such as sliding window optimization in VINS-Fusion and state estimation in Fast-LIO).</li>
<li><strong>Data type compatibility:</strong><br>
<!-- -->Eigen uses column-major storage by default, which is consistent with the BLAS standard and does not require data layout adjustment. However, you must ensure that Eigen&#x27;s data types (such as <code>float</code> / <code>double</code>) match the precision of APL compilation ( <code>lp64</code> corresponding to 64-bit integer + 32-bit float/64-bit double).</li>
<li><strong>Some functions do not support</strong><br>
<!-- -->some advanced features in Eigen (such as sparse matrices and custom operators) and may not call external BLAS/LAPACK. They still need to rely on Eigen&#x27;s own implementation and require targeted optimization (such as manually calling the APL interface).</li>
<li><strong>After replacing the backend in combination with other optimizations</strong><br>
<!-- -->, performance can be further improved by combining it with other optimizations (such as compiler <code>-O3 -march=armv8.2-a+neon</code> options and OpenMP multi-threaded parallelism) (APL itself also supports multi-threading, and <code>ARMPL_NUM_THREADS</code> the number of threads can be controlled through environment variables).</li>
<li><strong>Version compatibility:</strong><br>
<!-- -->Ensure that the Eigen version (3.3 or later is recommended) supports external BLAS/LAPACK, and that the APL version matches the target Arm architecture (e.g., A55 belongs to Armv8.2-A) to avoid instruction set incompatibilities (e.g., APL is compiled with instructions that A55 does not support).</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-alternative-directly-call-the-apl">4. Alternative: Directly call the APL<a href="#4-alternative-directly-call-the-apl" class="hash-link" aria-label="Direct link to 4. Alternative: Directly call the APL" title="Direct link to 4. Alternative: Directly call the APL">​</a></h3>
<p>If Eigen is not well adapted to APL, you can directly call APL&#x27;s C interface (such as single-precision matrix multiplication) in key computing modules (such as covariance matrix update in VIO and point cloud registration in LIO) <code>cblas_sgemm</code> and skip the Eigen intermediate layer. For example:</p>
<p>cpp</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;armpl.h&quot;</span><span class="token macro property" style="color:#36acaa">  </span><span class="token macro property comment" style="color:#999988;font-style:italic">// APL 的头文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 计算 C = alpha*A*B + beta*C（A: MxK, B: KxN, C: MxN，列主序）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cblas_sgemm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CblasColMajor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> CblasNoTrans</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> CblasNoTrans</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            M</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> K</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> alpha</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lda</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> B</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ldb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> beta</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> C</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ldc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Through the above method, Arm architecture edge devices (such as the 8-core A55) can fully utilize APL&#x27;s hardware optimization to improve operating efficiency in linear algebra-intensive tasks such as path planning, VIO, and LIO algorithms.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/Algorithm_Development/HPC/ARM Perf"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ARM Perf</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/Algorithm_Development/HPC/EMLL"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">EMLL</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-principle-eigens" class="table-of-contents__link toc-highlight">1. Principle: Eigen&#39;s</a></li><li><a href="#2-specific-steps-replace-eigen" class="table-of-contents__link toc-highlight">2. Specific steps: Replace Eigen</a></li><li><a href="#3" class="table-of-contents__link toc-highlight">3.</a></li><li><a href="#4-alternative-directly-call-the-apl" class="table-of-contents__link toc-highlight">4. Alternative: Directly call the APL</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.utmsys.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.utmsys.org/pages/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Follow Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/utmsys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@utmsys/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/profile.php?id=61574010301135/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/utmsys/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 utmsys.</div></div></div></footer></div>
</body>
</html>