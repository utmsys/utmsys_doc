"use strict";(self.webpackChunkutm_doc=self.webpackChunkutm_doc||[]).push([[8147],{4222:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"FAQ/\u95ee\u9898\u6c47\u603b","title":"\u4eff\u771f","description":"\u4f7f\u7528ProSim\u7248\u672c\u5339\u914d\u95ee\u9898","source":"@site/docs/12_FAQ/\u95ee\u9898\u6c47\u603b.md","sourceDirName":"12_FAQ","slug":"/FAQ/\u95ee\u9898\u6c47\u603b","permalink":"/en/FAQ/\u95ee\u9898\u6c47\u603b","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"12. \u5e38\u89c1\u95ee\u9898","permalink":"/en/12_FAQ"},"next":{"title":"13. \u53d1\u5e03\u65e5\u5fd7","permalink":"/en/13_Release"}}');var r=s(4848),t=s(8453);const l={},c="\u4eff\u771f",o={},a=[{value:"\u4f7f\u7528ProSim\u7248\u672c\u5339\u914d\u95ee\u9898",id:"\u4f7f\u7528prosim\u7248\u672c\u5339\u914d\u95ee\u9898",level:2},{value:"SITL",id:"sitl",level:2},{value:"1. \u4eff\u771f\u5668\u65f6\u95f4\u6233\u5bf9\u9f50\u95ee\u9898",id:"1-\u4eff\u771f\u5668\u65f6\u95f4\u6233\u5bf9\u9f50\u95ee\u9898",level:3},{value:"\u95ee\u9898\u63cf\u8ff0",id:"\u95ee\u9898\u63cf\u8ff0",level:4},{value:"\u89e3\u51b3\u65b9\u6cd51",id:"\u89e3\u51b3\u65b9\u6cd51",level:4},{value:"\u53c2\u8003\u94fe\u63a5",id:"\u53c2\u8003\u94fe\u63a5",level:4}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4eff\u771f",children:"\u4eff\u771f"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528prosim\u7248\u672c\u5339\u914d\u95ee\u9898",children:"\u4f7f\u7528ProSim\u7248\u672c\u5339\u914d\u95ee\u9898"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528ProSim\u65f6\u8fd0\u884c\u63d0\u793a\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Waiting for connect PX4\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u68c0\u67e5\u5f53\u524dPX4\u7248\u672c\u662f\u5426\u4e0eProSim\u7248\u672c\u5339\u914d\uff0c\u53ef\u4ee5\u901a\u8fc7QGS\u7684MAVlink Shell\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\u67e5\u770b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ver\xa0all\n"})}),"\n",(0,r.jsx)(n.h2,{id:"sitl",children:"SITL"}),"\n",(0,r.jsx)(n.h3,{id:"1-\u4eff\u771f\u5668\u65f6\u95f4\u6233\u5bf9\u9f50\u95ee\u9898",children:"1. \u4eff\u771f\u5668\u65f6\u95f4\u6233\u5bf9\u9f50\u95ee\u9898"}),"\n",(0,r.jsx)(n.h4,{id:"\u95ee\u9898\u63cf\u8ff0",children:"\u95ee\u9898\u63cf\u8ff0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"pxh> INFO  [lockstep_scheduler] setting initial absolute time to 2900000 us\nERROR [vehicle_imu] 0 - gyro 1310988 timestamp error timestamp_sample: 0, previous timestamp_sample: 0\nERROR [vehicle_imu] 0 - accel 1310988 timestamp error timestamp_sample: 0, previous timestamp_sample: 0\n\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u89e3\u51b3\u65b9\u6cd51",children:"\u89e3\u51b3\u65b9\u6cd51"}),"\n",(0,r.jsxs)(n.p,{children:["\u53c2\u8003\u94fe\u63a5\uff1a ",(0,r.jsx)(n.a,{href:"https://blog.csdn.net/2401_83038233/article/details/149101727",children:"https://blog.csdn.net/2401_83038233/article/details/149101727"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u8fdb\u5165 ",(0,r.jsx)(n.a,{href:"https://so.csdn.net/so/search?q=PX4&spm=1001.2101.3001.7020",children:"PX4"})," -Autopilot\u76ee\u5f55\uff08PX4\u6e90\u4ee3\u7801\u76ee\u5f55\uff09\uff0c ",(0,r.jsx)(n.strong,{children:"\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\u542f\u52a8\u4eff\u771f"})," \uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:"make px4_sitl gz_x500\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PX4\u548cgazebo\u542f\u52a8\uff0cQGC\u6b63\u5e38\u8fde\u63a5PX4\u5e76\u53ef\u901a\u8fc7QGC\u7684\u865a\u62df\u6447\u6746\u63a7\u5236gazebo\u4e2d\u7684PX4\uff1a"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.img,{src:"https://i-blog.csdnimg.cn/direct/421261bbeba047bc82ef37239411a73e.png",alt:""})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4eff\u771f\u4e0d\u4e45\u4e4b\u540e\u51fa\u73b0\u5982\u4e0b\u62a5\u9519\uff1a"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:"ERROR [vehicle_imu] 0 - gyro 1310988 timestamp error timestamp_sample: 1110864000, previous timestamp_samplERROR [vehicle_imu] 0 - accel 1310988 timestamp error timestamp_sample: 1110864000, previous timestamp_samp\n\nNodeShared::Publish() \n\nError: Interrupted system call\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5b9e\u9645\u4e0a\u6838\u5fc3\u62a5\u9519\u5e94\u8be5\u662f\uff1a"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:"ERROR [vehicle_imu] 0 - gyro 1310988 timestamp error timestamp_sample: 1110864000, previous timestamp_samplERROR [vehicle_imu] 0 - accel 1310988 timestamp error timestamp_sample: 1110864000, previous timestamp_samp\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6211\u4eec\u901a\u8fc7\u62a5\u9519\u53ef\u4ee5\u53d1\u73b0\uff1a\u8fd9\u662f\u4e00\u4e2a\u4e0e\u65f6\u95f4\u540c\u6b65\u6709\u5173\u7684\u62a5\u9519\uff0c\u6216\u8005\u8bf4\u4e0e\u65f6\u95f4\u6233\u5bf9\u9f50\u6709\u5173\u7cfb"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5728\u6700\u65b0\u7248\u672c\u7684PX4\u6e90\u4ee3\u7801\u4e2d\uff0c\u6784\u5efa\u6587\u4ef6CMakeLists\u4e2d\u6709\u8fd9\u6837\u4e00\u6bb5\u503c\u5f97\u6ce8\u610f\uff1a"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:'if(${PX4_PLATFORM} STREQUAL "posix")\n\n    if(ENABLE_LOCKSTEP_SCHEDULER)\n\n        add_definitions(-DENABLE_LOCKSTEP_SCHEDULER)\n\n        message(STATUS "PX4 lockstep: enabled")\n\n    else()\n\n        message(STATUS "PX4 lockstep: disabled")\n\n    endif()\n\nendif()\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8fd9\u6bb5\u5c31\u662f\u6211\u4eec\u89e3\u51b3\u95ee\u9898\u7684\u6839\u672c\u601d\u8def"})," \uff0c\u5bf9\u4e8e\u8fd9\u6bb5\u4ee3\u7801\u89e3\u91ca\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:"\u9501\u6b65\u8c03\u5ea6\u5668\uff08Lockstep Scheduler\uff09\u662f PX4 \u5728\u4eff\u771f\u73af\u5883\uff08\u5982 SITL\uff09\u4e0b\u7684\u4e00\u79cd\u7279\u6b8a\u8c03\u5ea6\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8ba9 PX4 \u7684\u8fd0\u884c\u901f\u5ea6\u548c\u4eff\u771f\u5668\uff08\u5982 Gazebo\uff09\u7684\u4eff\u771f\u6b65\u8fdb\u4e25\u683c\u540c\u6b65\uff0c\u4fdd\u8bc1\u4eff\u771f\u548c\u98de\u63a7\u4e4b\u95f4\u4e0d\u4f1a\u6709\u65f6\u95f4\u6f02\u79fb\u3002\u8fd9\u5bf9\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\u548c\u9ad8\u7cbe\u5ea6\u4eff\u771f\u975e\u5e38\u91cd\u8981\u3002\n\n \n\n \n\n\u53ef\u4ee5\u901a\u8fc7 \\`-DENABLE_LOCKSTEP_SCHEDULER=ON\\` \u63a7\u5236\u542f\u7528\u9501\u6b65\u8c03\u5ea6\u5668\u3002\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6240\u4ee5\u5b9e\u9645\u4e0a\u8fd9\u662f\u7531\u4e8e\u4eff\u771f\u7684\u65f6\u95f4\u4e0d\u4e25\u683c\u540c\u6b65\u5bfc\u81f4\u7684"})," \uff0c\u542f\u52a8\u6307\u4ee4\u53d8\u6210\u4e0b\u9762\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:'make px4_sitl gz_x500 EXTRA_CMAKE_ARGS="-DENABLE_LOCKSTEP_SCHEDULER=ON"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4e5f\u53ef\u4ee5\u628a\u53d8\u91cf\u5199\u8fdb\u53bb\u73af\u5883\u53d8\u91cf\u91cc\u9762"})," \uff0c\u5982\u679c\u5bfb\u6c42\u957f\u4e45\u7684\u8bdd\uff0c\u8fd9\u91cc\u4e0d\u8fc7\u591a\u9610\u8ff0"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:"\u6d4b\u8bd5\u73af\u5883\uff1aUbuntu22.04\uff0cWSL2\uff0cROS2 Humble\uff0cPX4 V1.16.0\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5b9e\u9645\u4e0a\u6211\u4eec\u4e5f\u4f1a\u53d1\u73b0\uff0c\u540c\u65f6\u6d88\u9664\u4e86\u62a5\u9519\uff1a"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cobol",children:"Error: Interrupted system call\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6548\u679c\u5982\u4e0b\uff1a"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.img,{src:"https://i-blog.csdnimg.cn/direct/421261bbeba047bc82ef37239411a73e.png",alt:""})})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b22\u8fce\u4ea4\u6d41\u8865\u5145\uff01"}),(0,r.jsxs)(n.a,{href:"https://mbot1.blog.csdn.net/article/details/125715844",children:[(0,r.jsx)(n.em,{children:"PX4"})," \u4ece\u653e\u5f03\u5230\u7cbe\u901a\uff08\u4e8c\u5341\u4e94\uff09\uff1aEKF2"]})]}),"\n",(0,r.jsx)(n.h4,{id:"\u53c2\u8003\u94fe\u63a5",children:"\u53c2\u8003\u94fe\u63a5"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/PX4/PX4-Autopilot/issues/25106",children:"https://github.com/PX4/PX4-Autopilot/issues/25106"}),"\n",(0,r.jsx)(n.a,{href:"https://discuss.px4.io/t/px4-sitl-multi-vehicle-gazebo-imu-timing-errors/33268/2",children:"https://discuss.px4.io/t/px4-sitl-multi-vehicle-gazebo-imu-timing-errors/33268/2"}),"\n",(0,r.jsx)(n.a,{href:"https://blog.csdn.net/2401_83038233/article/details/149101727",children:"https://blog.csdn.net/2401_83038233/article/details/149101727"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);